<div class="card p-4">
    <div class="flex justify-content-end mb-4">
        <a routerLink="/tarefas/nova" pButton label="Nova Tarefa" icon="pi pi-plus"></a>
    </div>

    <p-table [value]="(tarefas$ | async) || []" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th>Descrição</th><th style="width: 10rem;">Prioridade</th>
                <th style="width: 10rem;">Status</th><th style="width: 10rem;">Ações</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-tarefa>
            <tr>
                <td>{{ tarefa.descricao }}</td>
                <td><p-tag [severity]="getSeveridadePrioridade(tarefa.prioridade)" [value]="tarefa.prioridade"></p-tag></td>
                <td><p-tag [severity]="tarefa.concluida ? 'success' : 'warning'" [value]="tarefa.concluida ? 'Concluída' : 'Pendente'"></p-tag></td>
                <td>
                <a [routerLink]="['/tarefas', 'editar', tarefa.id]" pButton
                    icon="pi pi-pencil" class="p-button-sm p-button-info"></a>
                <p-button icon="pi pi-trash" styleClass="p-button-sm p-button-danger" class="ml-2" (click)="remover(tarefa)"></p-button>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr><td colspan="4" class="text-center">Nenhuma tarefa encontrada.</td></tr>
        </ng-template>
    </p-table>
</div>